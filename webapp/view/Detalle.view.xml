<mvc:View controllerName="morixe.zfirecibosaprob.controller.Detalle"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns:core="sap.ui.core"
    xmlns="sap.m">
    <Page >
        <content>
            <NavContainer id="wizardNavContainer">
                <pages>
                    <Page id="idRecibosPage" title="{i18n>lblnuevorecibo}" showNavButton="false" navButtonPress="onNavBack">
                        <customHeader>
                            <Bar design="Header">
                                <contentLeft>
                                    <Button icon="sap-icon://nav-back" press="onNavBack" type="Emphasized" />
                                </contentLeft>
                                <contentMiddle>


                                </contentMiddle>
                                <contentRight>
                                    <Image src="./img/logo.png" height="36px" class="sapUiSmallMarginBegin" />
                                    <!-- <Button icon="sap-icon://log" press="onEnd" text="{layout>/lastname}, {layout>/firstname}" type="Success" iconFirst="false" /> -->
                                </contentRight>
                            </Bar>
                        </customHeader>

                        <Panel headerText="{i18n>clientetitle}" class="sapUiSmallMarginTop">
                            <core:Fragment fragmentName="morixe.zfirecibosaprob.view.fragments.01Cliente" type="XML"/>
                        </Panel>





                        <Panel  visible="{= ${layout>/activePanel} === '^Pagos a Cuenta' }">

                            <Toolbar>
                                <content>
                                    <Text  text="{i18n>pagoactatitle}" />
                                    <ToolbarSpacer /> 
                                    <Button icon="sap-icon://hide" press="onOcultarPanel" text="{i18n>lblocultar}"  />
                                </content>
                            </Toolbar>
                            <core:Fragment fragmentName="morixe.zfirecibosaprob.view.fragments.02PagoCta" type="XML"/>
                        </Panel>

                        <Panel  visible="{= ${layout>/activePanel} === 'Documentos Afectados' }">

                            
                            <Toolbar>
                                <content>
                                    <Text  text="{i18n>comprobantetitle}" />
                                    <ToolbarSpacer /> 
                                    <Button icon="sap-icon://hide" press="onOcultarPanel" text="{i18n>lblocultar}"  />
                                </content>
                            </Toolbar>


                            <core:Fragment fragmentName="morixe.zfirecibosaprob.view.fragments.03Comprobante" type="XML"/>
                        </Panel>

                        <Panel   visible="{= ${layout>/activePanel} === 'Descuentos' }">
                            <Toolbar>
                                <content>
                                    <Text  text="{i18n>descuentotitle}" />
                                    <ToolbarSpacer /> 
                                    <Button icon="sap-icon://hide" press="onOcultarPanel" text="{i18n>lblocultar}"  />
                                </content>
                            </Toolbar>
                            <core:Fragment fragmentName="morixe.zfirecibosaprob.view.fragments.04Descuentos" type="XML"/>
                        </Panel>

                        <Panel  visible="{= ${layout>/activePanel} === 'Retenciones' }">
                            <Toolbar>
                                <content>
                                    <Text  text="{i18n>retencionestitle}" />
                                    <ToolbarSpacer /> 
                                    <Button icon="sap-icon://hide" press="onOcultarPanel" text="{i18n>lblocultar}"  />
                                </content>
                            </Toolbar>
                            <core:Fragment fragmentName="morixe.zfirecibosaprob.view.fragments.05Retenciones" type="XML"/>
                        </Panel>


                        <Panel  visible="{= ${layout>/activePanel} === 'Pago' }">
                            <Toolbar>
                                <content>
                                    <Text  text="{i18n>detalletitle}" />
                                    <ToolbarSpacer /> 
                                    <Button icon="sap-icon://hide" press="onOcultarPanel" text="{i18n>lblocultar}"  />
                                </content>
                            </Toolbar>
                            <core:Fragment fragmentName="morixe.zfirecibosaprob.view.fragments.06Detalle" type="XML"/>
                        </Panel>

                        <Panel  headerText="{i18n>resumentitle}">
                            <List class="sapUiSmallMarginBeginEnd sapUiSmallMarginTopBottom" mode="SingleSelectLeft" selectionChange="onDetailItemPress" id="idResumenSetList" width="95%" items="{
                                path: '/ResumenSet' }">
                                <CustomListItem >
                                    <VBox  >

                                        <HBox class="sapUiTinyMarginBottom sapUiTinyMarginTop" alignItems="Center" justifyContent="SpaceBetween" alignContent="SpaceBetween" width="100%">
                                            <Text text="{TipoLinea}" class="BoldOK sapUiTinyMarginBegin" />
                                            <Text text="        " width="200px" />


                                            <ObjectNumber unit="$" number="{parts: ['Importe'], formatter: '.formatNumber'}" state="{parts: ['Importe'], formatter: '.formatState'}" class="Bold sapUiTinyMarginEnd" />
                                        </HBox>
                                    </VBox>
                                </CustomListItem>

                            </List>



                            <!-- <MessageStrip text="{i18n>lblimporteacta} {mockdata>/SALDO}" showIcon="true" visible="{= ${mockdata>/SALDO} !== '' }" class=" BoldOK sapUiSmallMarginTopBottom"/> -->

                            <OverflowToolbar >
                                <ToolbarSpacer/>

                                <Button icon="sap-icon://sys-cancel" text="{i18n>btnanular}" type="Critical" press="onAnularINDV" class="sapUiTinyMarginEnd"/>
                                <Button icon="sap-icon://accept" text="{i18n>btnconfirmar}" type="Success" press="onContabilizarINDV" />
                                <ToolbarSpacer/>
                            </OverflowToolbar>
                        </Panel>

                    </Page>
                </pages>
            </NavContainer>
        </content>

    </Page>



</mvc:View>
